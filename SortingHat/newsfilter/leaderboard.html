<head>
  <title>Sorting hat</title>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600' rel='stylesheet' type='text/css'> 
</head>

<body>

     
  <div class="outer">
    {{> loginButtons}}

    <div class="logo"></div>
    <h1 class="title">SORTING HAT</h1>

    {{> leaderboard}}  
 
  </div>
</body>
 

<template name="leaderboard">
     
  {{#if currentUser}} <!-- gotta be logged in -->
    {{#if noEntries}}
      <center>
        <h1>
          Oops! Looks like you're out of articles.
        </h1> 
        {{#if isAdmin}}
         No entries? Upload a CSV file! 
        <input type="file" id="files" name="files[]" multiple />
        <output id="list"></output> 
        {{/if}}
      </center>
    {{/if}} <!-- end if for noEntries -->
    
    {{#if allDone}}
      <center>
        <h1>You're all done!</h1>
        
        <h2>
        <p>Thanks for playing.</p>

        <p>You classified {{numTrue}} articles as U.S. Election related, and {{numFalse}} articles as unrelated.</p>

        </h2> 

         {{#each results}}
          {{> result}}
        {{/each}}
       
      </center>

    {{/if}} <!-- allDone -->

    <!-- otherwise business as usual -->
    <div class="progress">
      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow={{completeCount}}
        aria-valuemin="0" aria-valuemax="100" style="width:{{percent_complete}}%">
        <span class>{{completeCount}}</span>
      </div>  
    </div> 

    {{#each articles}} 
      {{> article}}
        {{#if selectedArticle}}
         <div class="details">  
          <button class="no">No</button>
          <button class="yes">Yes</button> 
        </div> 
        {{/if}}
      {{else}}
    {{/each}} 
           

 
  {{/if}} <!-- end if for logged-in-->
</template>


  <!--


   
    </div> 

      {{#unless noEntries}}
        {{#unless allDone}}
          <h1><center>Is this article about the election?</center></h1>
        {{/unless}}
      {{/unless}}

      

      {{else}}
      
        <ul class="leaderboard">
         {{#each articles}} 
            {{> article}}
          
            {{#if selectedName}}
             <div class="details">  
              <button class="no">No</button>
              <button class="yes">Yes</button> 
            </div> 
            {{/if}}
          {{else}}
           

        {{/each}} 
           
      
        </ul>
      {{/if}}       
  {{/if}} 
  -->
 
<template name="article">
  <ul class="article {{selected}}">  
     
    <!--<span class="score">{{r}}</span>  -->
    <span class="name">{{title}}</span> 
    <span class="description">{{body}}</span>


  </ul>
</template>

<template name="result">
  <ul class="article {{selected}}">  
    <span class="name">{{title}}</span>  

    <span class="result">Your guess: {{#each labels}} {{this.label}} {{/each}}</span> 
    <span class="result">Machine guess: {{confidence}}% Yes </span>   
     
  </ul>
</template>
 